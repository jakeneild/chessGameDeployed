!function(){return function e(o,t,l){function r(n,d){if(!t[n]){if(!o[n]){var i="function"==typeof require&&require;if(!d&&i)return i(n,!0);if(a)return a(n,!0);var s=new Error("Cannot find module '"+n+"'");throw s.code="MODULE_NOT_FOUND",s}var c=t[n]={exports:{}};o[n][0].call(c.exports,function(e){return r(o[n][1][e]||e)},c,c.exports,e,o,t,l)}return t[n].exports}for(var a="function"==typeof require&&require,n=0;n<l.length;n++)r(l[n]);return r}}()({1:[function(e,o,t){var l=e("./data"),r=e("./isInCheck");o.exports=function(e){console.log(l.board,"!");let o=[1,1],t=[];if("W"===e){"Wk"!==l.board[7][4]&&(o=[0,0]);for(let e=0;e<l.history.length;e+=2)l.history[e].includes("k")&&(o=[0,0]),"70"===l.history[e].slice(2,4)&&(o[0]=0),"77"===l.history[e].slice(2,4)&&(o[1]=0);for(let e=1;e<l.history.length;e+=2)(l.history[e].includes("!")||l.history[e].includes("castle"))&&(o=[0,0]);for(let e=1;e<4;e++){for(let e=0;e<8;e++){t[e]=[];for(let o=0;o<8;o++)t[e][o]=l.board[e][o]}l.board[7][e]="Wk",r("W")&&(o[0]=0);for(let e=0;e<8;e++){l.board[e]=[];for(let o=0;o<8;o++)l.board[e][o]=t[e][o]}"e"!==l.board[7][e]&&(o[0]=0)}for(let e=5;e<7;e++){for(let e=0;e<8;e++){t[e]=[];for(let o=0;o<8;o++)t[e][o]=l.board[e][o]}l.board[7][e]="Wk",r("W")&&(o[1]=0);for(let e=0;e<8;e++){l.board[e]=[];for(let o=0;o<8;o++)l.board[e][o]=t[e][o]}"e"!==l.board[7][e]&&(o[1]=0)}}else{"Bk"!==l.board[0][4]&&(o=[0,0]);for(let e=1;e<l.history.length;e+=2)(l.history[e].includes("k")||l.history[e].includes("castle"))&&(o=[0,0]),"00"===l.history[e].slice(2,4)&&(o[0]=0),"07"===l.history[e].slice(2,4)&&(o[1]=0);for(let e=0;e<l.history.length;e+=2)l.history[e].includes("!")&&(o=[0,0]);for(let e=1;e<4;e++){for(let e=0;e<8;e++){t[e]=[];for(let o=0;o<8;o++)t[e][o]=l.board[e][o]}l.board[0][e]="Bk",r("B")&&(o[0]=0);for(let e=0;e<8;e++){l.board[e]=[];for(let o=0;o<8;o++)l.board[e][o]=t[e][o]}"e"!==l.board[0][e]&&(o[0]=0)}for(let e=5;e<7;e++){for(let e=0;e<8;e++){t[e]=[];for(let o=0;o<8;o++)t[e][o]=l.board[e][o]}l.board[0][e]="Bk",r("B")&&(o[1]=0);for(let e=0;e<8;e++){l.board[e]=[];for(let o=0;o<8;o++)l.board[e][o]=t[e][o]}"e"!==l.board[0][e]&&(o[1]=0)}}return o}},{"./data":2,"./isInCheck":4}],2:[function(e,o,t){var l={board:[["Br","Bn","Bb","Bq","Bk","Bb","Bn","Br"],["Bp","Bp","Bp","Bp","Bp","Bp","Bp","Bp"],["e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e"],["Wp","Wp","Wp","Wp","Wp","Wp","Wp","Wp"],["Wr","Wn","Wb","Wq","Wk","Wb","Wn","Wr"]],turn:"W",opponent:"B",turnSwitch:function(){let e=l.turn;l.turn=l.opponent,l.opponent=e},history:[],legalMoves:{},move:function(e,o){let t=e.slice(0,2),l=e.slice(2,3),r=e.slice(3,4),a=e.slice(4,5),n=e.slice(5,6),d=o;return d[a][n]=t,d[l][r]="e",d},legalMovesPush:function(e){let o=!0,t=e.slice(0,2),r=e.slice(2,4);for(item in l.legalMoves)item===`${t+r}`&&(o=!1);!1===o?l.legalMoves[`${t+r}`].push(e):l.legalMoves[`${t+r}`]=[e]},getLegalMoves:function(){for(let e=0;e<8;e++)for(let o=0;o<8;o++){let t=l.board[e][o];if(l.board[e][o].includes(l.turn)){if(t.includes("k"))for(let r=-1;r<=1;r++)for(let a=-1;a<=1;a++)if(void 0!==l.board[e+r]&&void 0!==l.board[e+r][o+a]){if("e"===l.board[e+r][o+a]){let n=`${t}${e}${o}${e+r}${o+a}`;l.legalMovesPush(n)}if(l.board[e+r][o+a].includes(l.opponent)){let n=`${t}${e}${o}${e+r}${o+a}`;l.legalMovesPush(n)}}if(t.includes("p"))if(t.includes("W")&&"W"===l.turn){if("e"===l.board[e-1][o]){let r=`${t}${e}${o}${e-1}${o}`;if(l.legalMovesPush(r),void 0!==l.board[e-2]&&"e"===l.board[e-2][o]&&6===e){let r=`${t}${e}${o}${e-2}${o}`;l.legalMovesPush(r)}}if(void 0!==l.board[e-1][o-1]&&l.board[e-1][o-1].includes("B")){let r=`${t}${e}${o}${e-1}${o-1}`;l.legalMovesPush(r)}if(void 0!==l.board[e-1][o+1]&&l.board[e-1][o+1].includes("B")){let r=`${t}${e}${o}${e-1}${o+1}`;l.legalMovesPush(r)}}else if(t.includes("B")&&"B"===l.turn){if("e"===l.board[e+1][o]){let r=`${t}${e}${o}${e+1}${o}`;if(l.legalMovesPush(r),void 0!==l.board[e+2]&&"e"===l.board[e+2][o]&&1===e){let r=`${t}${e}${o}${e+2}${o}`;l.legalMovesPush(r)}}if(void 0!==l.board[e+1][o-1]&&l.board[e+1][o-1].includes("W")){let r=`${t}${e}${o}${e+1}${o-1}`;l.legalMovesPush(r)}if(void 0!==l.board[e+1][o+1]&&l.board[e+1][o+1].includes("W")){let r=`${t}${e}${o}${e+1}${o+1}`;l.legalMovesPush(r)}}if(t.includes("r")){for(let r=1;r<8;r++)if(void 0!==l.board[e+r]&&void 0!==l.board[e+r][o])if("e"===l.board[e+r][o]){let a=`${t}${e}${o}${e+r}${o}`;l.legalMovesPush(a)}else if(l.board[e+r][o].includes(l.opponent)){let a=`${t}${e}${o}${e+r}${o}`;l.legalMovesPush(a),r=8}else r=8;for(let r=1;r<8;r++)if(void 0!==l.board[e-r]&&void 0!==l.board[e-r][o])if("e"===l.board[e-r][o]){let a=`${t}${e}${o}${e-r}${o}`;l.legalMovesPush(a)}else if(l.board[e-r][o].includes(l.opponent)){let a=`${t}${e}${o}${e-r}${o}`;l.legalMovesPush(a),r=8}else r=8;for(let r=1;r<8;r++)if(void 0!==l.board[e]&&void 0!==l.board[e][o-r])if("e"===l.board[e][o-r]){let a=`${t}${e}${o}${e}${o-r}`;l.legalMovesPush(a)}else if(l.board[e][o-r].includes(l.opponent)){let a=`${t}${e}${o}${e}${o-r}`;l.legalMovesPush(a),r=8}else r=8;for(let r=1;r<8;r++)if(void 0!==l.board[e]&&void 0!==l.board[e][o+r])if("e"===l.board[e][o+r]){let a=`${t}${e}${o}${e}${o+r}`;l.legalMovesPush(a)}else if(l.board[e][o+r].includes(l.opponent)){let a=`${t}${e}${o}${e}${o+r}`;l.legalMovesPush(a),r=8}else r=8}if(t.includes("n")){let r=function(r,a){if(void 0!==l.board[e+r]&&void 0!==l.board[e+r][o+a]&&("e"===l.board[e+r][o+a]||l.board[e+r][o+a].includes(`${l.opponent}`))){let n=`${t}${e}${o}${e+r}${o+a}`;l.legalMovesPush(n)}};r(2,1),r(2,-1),r(-2,1),r(-2,-1),r(1,2),r(1,-2),r(-1,2),r(-1,-2)}if(t.includes("b")){for(let r=1;r<8;r++)if(void 0!==l.board[e+r]&&void 0!==l.board[e+r][o+r])if("e"===l.board[e+r][o+r]){let a=`${t}${e}${o}${e+r}${o+r}`;l.legalMovesPush(a)}else if(l.board[e+r][o].includes(l.opponent)){let a=`${t}${e}${o}${e+r}${o+r}`;l.legalMovesPush(a),r=8}else r=8;for(let r=1;r<8;r++)if(void 0!==l.board[e-r]&&void 0!==l.board[e-r][o+r])if("e"===l.board[e-r][o+r]){let a=`${t}${e}${o}${e-r}${o+r}`;l.legalMovesPush(a)}else if(l.board[e-r][o+r].includes(l.opponent)){let a=`${t}${e}${o}${e-r}${o+r}`;l.legalMovesPush(a),r=8}else r=8;for(let r=1;r<8;r++)if(void 0!==l.board[e+r]&&void 0!==l.board[e+r][o-r])if("e"===l.board[e+r][o-r]){let a=`${t}${e}${o}${e+r}${o-r}`;l.legalMovesPush(a)}else if(l.board[e+r][o-r].includes(l.opponent)){let a=`${t}${e}${o}${e+r}${o-r}`;l.legalMovesPush(a),r=8}else r=8;for(let r=1;r<8;r++)if(void 0!==l.board[e-r]&&void 0!==l.board[e-r][o-r])if("e"===l.board[e-r][o-r]){let a=`${t}${e}${o}${e-r}${o-r}`;l.legalMovesPush(a)}else if(l.board[e-r][o-r].includes(l.opponent)){let a=`${t}${e}${o}${e-r}${o-r}`;l.legalMovesPush(a),r=8}else r=8}if(t.includes("q")){for(let r=1;r<8;r++)if(void 0!==l.board[e+r]&&void 0!==l.board[e+r][o])if("e"===l.board[e+r][o]){let a=`${t}${e}${o}${e+r}${o}`;l.legalMovesPush(a)}else if(l.board[e+r][o].includes(l.opponent)){let a=`${t}${e}${o}${e+r}${o}`;l.legalMovesPush(a),r=8}else r=8;for(let r=1;r<8;r++)if(void 0!==l.board[e-r]&&void 0!==l.board[e-r][o])if("e"===l.board[e-r][o]){let a=`${t}${e}${o}${e-r}${o}`;l.legalMovesPush(a)}else if(l.board[e-r][o].includes(l.opponent)){let a=`${t}${e}${o}${e-r}${o}`;l.legalMovesPush(a),r=8}else r=8;for(let r=1;r<8;r++)if(void 0!==l.board[e]&&void 0!==l.board[e][o-r])if("e"===l.board[e][o-r]){let a=`${t}${e}${o}${e}${o-r}`;l.legalMovesPush(a)}else if(l.board[e][o-r].includes(l.opponent)){let a=`${t}${e}${o}${e}${o-r}`;l.legalMovesPush(a),r=8}else r=8;for(let r=1;r<8;r++)if(void 0!==l.board[e]&&void 0!==l.board[e][o+r])if("e"===l.board[e][o+r]){let a=`${t}${e}${o}${e}${o+r}`;l.legalMovesPush(a)}else if(l.board[e][o+r].includes(l.opponent)){let a=`${t}${e}${o}${e}${o+r}`;l.legalMovesPush(a),r=8}else r=8;for(let r=1;r<8;r++)if(void 0!==l.board[e+r]&&void 0!==l.board[e+r][o+r])if("e"===l.board[e+r][o+r]){let a=`${t}${e}${o}${e+r}${o+r}`;l.legalMovesPush(a)}else if(l.board[e+r][o].includes(l.opponent)){let a=`${t}${e}${o}${e+r}${o+r}`;l.legalMovesPush(a),r=8}else r=8;for(let r=1;r<8;r++)if(void 0!==l.board[e-r]&&void 0!==l.board[e-r][o+r])if("e"===l.board[e-r][o+r]){let a=`${t}${e}${o}${e-r}${o+r}`;l.legalMovesPush(a)}else if(l.board[e-r][o+r].includes(l.opponent)){let a=`${t}${e}${o}${e-r}${o+r}`;l.legalMovesPush(a),r=8}else r=8;for(let r=1;r<8;r++)if(void 0!==l.board[e+r]&&void 0!==l.board[e+r][o-r])if("e"===l.board[e+r][o-r]){let a=`${t}${e}${o}${e+r}${o-r}`;l.legalMovesPush(a)}else if(l.board[e+r][o-r].includes(l.opponent)){let a=`${t}${e}${o}${e+r}${o-r}`;l.legalMovesPush(a),r=8}else r=8;for(let r=1;r<8;r++)if(void 0!==l.board[e-r]&&void 0!==l.board[e-r][o-r])if("e"===l.board[e-r][o-r]){let a=`${t}${e}${o}${e-r}${o-r}`;l.legalMovesPush(a)}else if(l.board[e-r][o-r].includes(l.opponent)){let a=`${t}${e}${o}${e-r}${o-r}`;l.legalMovesPush(a),r=8}else r=8}}}console.log(l.board);let o=e("./canCastle")(l.turn);if(console.log(l.board),0!==o[0]||o[1],l.legalMoves.castle=[],"W"===l.turn){if(1===o[0]){let e="whiteCastleLeft";l.legalMoves.castle.push(e)}if(1===o[1]){let e="whiteCastleRight";l.legalMoves.castle.push(e)}}else{if(1===o[0]){let e="blackCastleLeft";l.legalMoves.castle.push(e)}if(1===o[1]){let e="blackCastleRight";l.legalMoves.castle.push(e)}}},removeChecks:function(){for(item in console.log(l.board,"!"),l.legalMoves)if("castle"!==item){let a=!1;for(let n=0;n<l.legalMoves[item].length;n++){var e=[];for(let o=0;o<8;o++){e[o]=[];for(let t=0;t<8;t++)e[o][t]=l.board[o][t]}a=!1;let d=l.move(l.legalMoves[item][n],l.board);l.board=d,l.turnSwitch();let i="",s="";for(let e=0;e<8;e++)for(let o=0;o<8;o++)l.board[e][o]===`${l.opponent}k`&&(i=e,s=o);function o(e,o){for(let t=1;t<8;t++)void 0!==l.board[i+e*t]&&void 0!==l.board[i+e*t][s+o*t]?"e"!==l.board[i+e*t][s+o*t]&&(l.board[i+e*t][s+o*t]===`${l.turn}k`&&1===t?(array.push("!"),t=8):(array.push(l.board[i+e*t][s+o*t]),t=8)):(array.push("e"),t=8);return array}"W"===l.opponent?(void 0!==l.board[i-1]&&void 0!==l.board[i-1][s+1]&&l.board[i-1][s+1]===`${l.turn}p`&&(a=!0),void 0!==l.board[i-1]&&void 0!==l.board[i-1][s-1]&&l.board[i-1][s-1]===`${l.turn}p`&&(a=!0)):(void 0!==l.board[i+1]&&void 0!==l.board[i+1][s+1]&&l.board[i+1][s+1]===`${l.turn}p`&&(a=!0),void 0!==l.board[i+1]&&void 0!==l.board[i+1][s-1]&&l.board[i+1][s-1]===`${l.turn}p`&&(a=!0)),array=[];for(let e=-1;e<=1;e++)for(let t=-1;t<=1;t++)o(e,t);(array.includes("!")||array.includes(`${l.turn}q`))&&(a=!0);for(let e=0;e<9;e+=2)array[e]===`${l.turn}b`&&(a=!0);for(let e=1;e<9;e+=2)array[e]===`${l.turn}r`&&(a=!0);var t=function(e){void 0!==l.board[i+e[0]]&&void 0!==l.board[i+e[0]][s+e[1]]&&l.board[i+e[0]][s+e[1]]===`${l.turn}n`&&(a=!0)},r=[[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]];for(let e=0;e<r.length;e++)t(r[e]);l.board=e,l.turnSwitch(),!0===a&&(console.log("!!!removing move",l.legalMoves[item][n]),l.legalMoves[item].splice(n,1),n--)}}},executeMove:{start:function(o){console.log("move:",o);let t=e("./pawnPromotionCheck");console.log("execute move start board pos: ",l.board),t.run(),t.finish(o)},finish:function(o){let t=!1;for(item in l.legalMoves)for(let e=0;e<l.legalMoves[item].length;e++)l.legalMoves[item][e]===o&&(t=!0);if(console.log("move",o),!1===t)console.log("Invalid move");else{if(o.includes("Castle"))"whiteCastleLeft"===o?(l.board[7][0]="e",l.board[7][2]="Wk",l.board[7][3]="Wr",l.board[7][4]="e"):"whiteCastleRight"===o?(l.board[7][4]="e",l.board[7][5]="Wr",l.board[7][6]="Wk",l.board[7][7]="e"):"blackCastleLeft"===o?(l.board[0][0]="e",l.board[0][2]="Bk",l.board[0][3]="Br",l.board[0][4]="e"):"blackCastleRight"===o&&(l.board[0][4]="e",l.board[0][5]="Br",l.board[0][6]="Bk",l.board[0][7]="e");else{document.getElementById("info").innerHTML="";let e=o.slice(0,2),t=o.slice(2,3),r=o.slice(3,4),a=o.slice(4,5),n=o.slice(5,6);l.board[a][n]=e,l.board[t][r]="e"}e("./isInCheck")(l.opponent)?(l.history.push(`${o}!`),p=document.createElement("p"),"B"===l.opponent?p.textContent="Black is in check!":p.textContent="White is in check!",document.getElementById("info").appendChild(p)):l.history.push(o),l.turnSwitch(),l.legalMoves={},l.getLegalMoves(),l.removeChecks(),e("./domPrinter")(),selectedPiece="",console.log("board after move: ",l.board);let t=0;for(item in l.legalMoves)t+=l.legalMoves[item].length;0===t&&(l.history[l.history.length-1].includes("!")?"W"===l.opponent?document.getElementById("info").firstChild.textContent="Checkmate! White wins!":document.getElementById("info").firstChild.textContent="Checkmate! Black wins!":(p=document.createElement("p"),p.textContent="There is a draw",document.getElementById("info").appendChild(p)))}}},selectedPiece:""};o.exports=l},{"./canCastle":1,"./domPrinter":3,"./isInCheck":4,"./pawnPromotionCheck":7}],3:[function(e,o,t){var l=e("./data"),r=e("./selectPiece"),a=e("./makeMove");o.exports=function(){document.getElementById("board").innerHTML="",document.getElementById("board").addEventListener("click",function(e){a(e.target.className,e.target.id),a(e.target.parentElement.className,e.target.parentElement.id)});for(let e=0;e<8;e++){let o=document.createElement("div");o.style.display="flex";for(let t=0;t<8;t++){let a=document.createElement("div");if(a.id=e.toString()+t.toString(),a.style.border="2px solid black",a.style.width="75px",a.style.height="75px","e"!==l.board[e][t]){a.id=l.board[e][t]+e.toString()+t.toString(),l.board[e][t].includes(l.turn)&&a.addEventListener("click",function(){r(a.id)});let o=document.createElement("div");o.style.width="75px",o.style.height="75px","Wp"===l.board[e][t]?o.style.backgroundImage="url('./img/Wp.png')":"Wr"===l.board[e][t]?o.style.backgroundImage="url('./img/Wr.png')":"Wn"===l.board[e][t]?o.style.backgroundImage="url('./img/Wn.png')":"Wb"===l.board[e][t]?o.style.backgroundImage="url('./img/Wb.png')":"Wq"===l.board[e][t]?o.style.backgroundImage="url('./img/Wq.png')":"Wk"===l.board[e][t]?o.style.backgroundImage="url('./img/Wk.png')":"Bp"===l.board[e][t]?o.style.backgroundImage="url('./img/Bp.png')":"Br"===l.board[e][t]?o.style.backgroundImage="url('./img/Br.png')":"Bn"===l.board[e][t]?o.style.backgroundImage="url('./img/Bn.png')":"Bb"===l.board[e][t]?o.style.backgroundImage="url('./img/Bb.png')":"Bq"===l.board[e][t]?o.style.backgroundImage="url('./img/Bq.png')":"Bk"===l.board[e][t]&&(o.style.backgroundImage="url('./img/Bk.png')"),a.appendChild(o)}o.appendChild(a)}document.getElementById("board").appendChild(o)}}},{"./data":2,"./makeMove":6,"./selectPiece":9}],4:[function(e,o,t){var l=e("./data");o.exports=function(e){let o="W";"W"===e&&(o="B"),check=!1;let t="",r="";for(let o=0;o<8;o++)for(let a=0;a<8;a++)l.board[o][a]===`${e}k`&&(t=o,r=a);function a(e,a){for(let n=1;n<8;n++)void 0!==l.board[t+e*n]&&void 0!==l.board[t+e*n][r+a*n]?"e"!==l.board[t+e*n][r+a*n]&&(l.board[t+e*n][r+a*n]===`${o}k`&&1===n?(array.push("!"),n=8):(array.push(l.board[t+e*n][r+a*n]),n=8)):(array.push("e"),n=8);return array}"W"===e?(void 0!==l.board[t-1]&&void 0!==l.board[t-1][r+1]&&l.board[t-1][r+1]===`${o}p`&&(check=!0),void 0!==l.board[t-1]&&void 0!==l.board[t-1][r-1]&&l.board[t-1][r-1]===`${o}p`&&(check=!0)):(void 0!==l.board[t+1]&&void 0!==l.board[t+1][r+1]&&l.board[t+1][r+1]===`${o}p`&&(check=!0),void 0!==l.board[t+1]&&void 0!==l.board[t+1][r-1]&&l.board[t+1][r-1]===`${o}p`&&(check=!0)),array=[];for(let e=-1;e<=1;e++)for(let o=-1;o<=1;o++)a(e,o);console.log("king line array:",array),(array.includes("!")||array.includes(`${o}q`))&&(check=!0);for(let e=0;e<9;e+=2)array[e]===`${o}b`&&(check=!0);for(let e=1;e<9;e+=2)array[e]===`${o}r`&&(check=!0);var n=function(e){for(item in e)void 0!==l.board[t+e[0]]&&void 0!==l.board[t+e[0]][r+e[1]]&&l.board[t+e[0]][r+e[1]]===`${o}n`&&(check=!0)},d=[[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]];for(let e=0;e<d.length;e++)n(d[e]);return check}},{"./data":2}],5:[function(e,o,t){var l=e("./data"),r=e("./domPrinter");l.getLegalMoves(),l.removeChecks(),r(),console.log("Board:",l.board),console.log("Legal moves:",l.legalMoves),document.getElementById("display").addEventListener("click",function(){console.log(l.board),console.log(l.legalMoves),console.log(l.history)})},{"./data":2,"./domPrinter":3}],6:[function(e,o,t){var l=e("./data");o.exports=function(e,o){if("active"===e)if(l.selectedPiece.includes("k")&&"76"===o)l.executeMove.start("whiteCastleRight");else if(l.selectedPiece.includes("k")&&"72"===o)l.executeMove.start("whiteCastleLeft");else if(l.selectedPiece.includes("k")&&"02"===o)l.executeMove.start("blackCastleLeft");else if(l.selectedPiece.includes("k")&&"06"===o)l.executeMove.start("blackCastleRight");else{let e=o;o.length>2&&(e=o.slice(2,4)),l.executeMove.start(l.selectedPiece+e)}}},{"./data":2}],7:[function(e,o,t){let l=e("./data"),r=e("./promotePawn"),a={run:function(){if("B"===l.turn)for(let e=0;e<8;e++)"Wp"===l.board[0][e]&&(a.complete=!1,r([0,e]));else for(let e=0;e<8;e++)"Bp"===l.board[7][e]&&(a.complete=!1,r([7,e]))},finish:function(e){if("B"===l.turn){for(let e=0;e<8;e++)if("Wp"===l.board[0][e])return!1}else for(let e=0;e<8;e++)if("Bp"===l.board[7][e])return!1;l.executeMove.finish(e)}};o.exports=a},{"./data":2,"./promotePawn":8}],8:[function(e,o,t){let l=e("./data");e("./domPrinter");o.exports=function(o){if(console.log(document.getElementById("info").firstChild),null===document.getElementById("info").firstChild){let t=function(t){if(document.getElementById("info"),t.target.id.includes("q")||t.target.id.includes("r")||t.target.id.includes("k")||t.target.id.includes("b")){document.getElementById("info").innerHTML=" ",l.board[o[0]][o[1]]=`${l.opponent}${t.target.id}`,e("./isInCheck")(l.turn)&&(p=document.createElement("p"),"B"===l.opponent?(p.textContent="Black is in check!",l.history[l.history.length-1]+="!"):(p.textContent="White is in check!",l.history[l.history.length-1]+="!"),document.getElementById("info").appendChild(p)),l.legalMoves={},l.getLegalMoves(),l.removeChecks(),e("./domPrinter")(),selectedPiece="";let r=0;for(item in l.legalMoves)r+=l.legalMoves[item].length;0===r&&(l.history[l.history.length-1].includes("!")?"B"===l.opponent?document.getElementById("info").firstChild.textContent="Checkmate! White wins!":document.getElementById("info").firstChild.textContent="Checkmate! Black wins!":(p=document.createElement("p"),p.textContent="There is a draw",document.getElementById("info").appendChild(p)))}},r=function(e){let o=document.createElement("div");return o.style.width="75px",o.style.height="75px",o.id=e,o.addEventListener("click",t),o},a=r("n"),n=r("b"),d=r("r"),i=r("q");document.getElementById("info").appendChild(a),document.getElementById("info").appendChild(n),document.getElementById("info").appendChild(d),document.getElementById("info").appendChild(i),"W"===l.opponent?(document.getElementById("n").style.backgroundImage="url('./img/Wn.png')",document.getElementById("b").style.backgroundImage="url('./img/Wb.png')",document.getElementById("r").style.backgroundImage="url('./img/Wr.png')",document.getElementById("q").style.backgroundImage="url('./img/Wq.png')"):(document.getElementById("n").style.backgroundImage="url('./img/Bn.png')",document.getElementById("b").style.backgroundImage="url('./img/Bb.png')",document.getElementById("r").style.backgroundImage="url('./img/Br.png')",document.getElementById("q").style.backgroundImage="url('./img/Bq.png')")}}},{"./data":2,"./domPrinter":3,"./isInCheck":4}],9:[function(e,o,t){var l=e("./data");o.exports=function(e){let o=document.querySelectorAll(".active");for(let e=0;e<o.length;e++)o[e].classList=" ";if(void 0!==l.legalMoves[e]){l.selectedPiece=e;for(let o=0;o<l.legalMoves[e].length;o++){let t=l.legalMoves[e][o].slice(4,5),r=l.legalMoves[e][o].slice(5,6),a="";"e"!==l.board[t][r]&&(a=l.board[t][r]),document.getElementById(a+t+r).className="active"}}if(e.includes("k")&&void 0!==l.legalMoves.castle){console.log("pullingCastleMoves");for(let e=0;e<l.legalMoves.castle.length;e++)"whiteCastleLeft"===l.legalMoves.castle[e]&&(document.getElementById("72").className="active"),"whiteCastleRight"===l.legalMoves.castle[e]&&(document.getElementById("76").className="active"),"blackCastleLeft"===l.legalMoves.castle[e]&&(document.getElementById("02").className="active"),"blackCastleRight"===l.legalMoves.castle[e]&&(document.getElementById("06").className="active")}}},{"./data":2}]},{},[1,2,3,4,5,6,7,8,9]);